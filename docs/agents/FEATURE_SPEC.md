# Feature Spec for AI Agent (Phase-by-Phase)

本ドキュメントは AI エージェント向けに、段階的に実装を進めるための仕様メモです。

---

## セル結合範囲取得機能の追加

- 新たに`MergedCell`モデルを作成、座標情報とセル値を持つ
- `SheetData`に`merged_ranges`フィールドを追加し、list[MergedRange]を持つ
- デフォルトモード以上（standard/verbose）で取得するようにする。engineには無効化オプションをつけておく（outputoptionsで出力時に削除する方向で）

## 今後のオプション（検討メモ）

- 表検出スコアリングの閾値を CLI/環境変数で調整可能にする。
- 出力モード（light/standard/verbose）に応じてテーブル候補数を制限するオプション。

---

## 実装方針

- 各ステップ完了ごとにテスト追加または既存フィクスチャで手動確認。
- 短い定数・関数分割でスコアリングの調整をしやすくする。
- 外部公開前なので、破壊的変更は適宜コメント・メモに残す。
